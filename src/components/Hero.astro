---
import heroImg from "../assets/hero.jpg";
import { Zap, MapPin, Clock } from '@lucide/astro';

const stats = [
  { value: "200+", label: "Projects Completed" },
  { value: "15+", label: "Years Experience" },
];

const cards = [
  {
    title: "Our Location",
    content: `510 West 1st Street<br />Lowell, NC 28098`,
    highlight: "(704) 879-4057",
  },
  {
    title: "Business Hours",
    content: `Monday - Friday: 7AM - 3PM`,
    highlight: "Weekends: Closed",
  },
];
---

<section
  id="hero"
  class="relative w-full min-h-screen flex items-center justify-center overflow-hidden"
>
  {/* Background Image with Parallax */}
  <div id="parallax-bg" class="absolute inset-0 w-full h-full will-change-transform">
    <img
      src={heroImg.src}
      alt="Close-up of industrial electrical wiring and conduits"
      class="w-full h-full object-cover blur-xs"
    />
  </div>

  {/* Overlay */}
  <div class="absolute inset-0 bg-linear-to-b from-black/60 via-black/40 to-black/70" />

  {/* Main Content */}
  <div class="relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-20 md:pt-16 lg:pt-0">
    <div class="text-center">

      {/* Logo Icon */}
      <div class="reveal mb-6 sm:mb-8" style="transition-delay: 0s">
        <div class="inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-linear-to-br from-yellow-400 to-yellow-600 rounded-full shadow-lg">
          <Zap class="w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 text-black" />
        </div>
      </div>

      {/* Main Headline */}
      <h1
        class="reveal text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight px-2"
        style="transition-delay: 0.15s"
      >
        Powering Your{" "}
        <span class="text-transparent bg-clip-text bg-linear-to-r from-yellow-400 to-yellow-600">
          Electrical Services
        </span>
      </h1>

      {/* Subheading */}
      <p
        class="reveal text-lg sm:text-xl md:text-2xl text-gray-200 mb-3 sm:mb-4 max-w-3xl mx-auto px-2"
        style="transition-delay: 0.3s"
      >
        Leading Commercial & Industrial Electricians in North Carolina.
      </p>

      <p
        class="reveal text-sm sm:text-base md:text-lg text-yellow-200 mb-6 sm:mb-8 font-light"
        style="transition-delay: 0.4s"
      >
        Efficiency · Reliability · Innovation
      </p>

      {/* Stats */}
      <div
        class="reveal grid grid-cols-2 gap-4 sm:gap-8 mb-8 sm:mb-12 max-w-2xl mx-auto px-2"
        style="transition-delay: 0.5s"
      >
        {stats.map((stat) => (
          <div class="text-center">
            <div class="text-xl sm:text-2xl md:text-3xl font-bold text-yellow-400 mb-1 sm:mb-2">
              {stat.value}
            </div>
            <div class="text-xs sm:text-sm md:text-base text-gray-300">
              {stat.label}
            </div>
          </div>
        ))}
      </div>

      {/* CTA Button - Mobile */}
      <div class="reveal mb-6 sm:mb-8 md:mb-16 md:hidden" style="transition-delay: 0.6s">
        <button
          id="cta-mobile"
          class="bg-linear-to-r from-yellow-500 to-yellow-600 text-black px-6 sm:px-8 py-3 sm:py-4 rounded-lg text-base sm:text-lg font-semibold hover:from-yellow-400 hover:to-yellow-500 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 shadow-[0_4px_15px_rgba(234,179,8,0.3)] hover:shadow-[0_8px_25px_rgba(234,179,8,0.4)]"
        >
          Request a Free Consultation
        </button>
      </div>

      {/* Mobile Info Cards */}
      <div class="grid gap-3 sm:gap-4 max-w-md mx-auto md:hidden px-2">
        {cards.map((card, i) => (
          <div class="reveal bg-black/50 backdrop-blur-sm border border-yellow-500/30 rounded-lg p-3 sm:p-4 hover:border-yellow-500/50 transition-all duration-300" style={`transition-delay: ${0.7 + i * 0.1}s`}>
            <div class="flex items-start space-x-3">
              <div class="bg-yellow-500/20 p-2 rounded-full shrink-0">
                {i === 0
                  ? <MapPin class="w-4 h-4 sm:w-5 sm:h-5 text-yellow-400" />
                  : <Clock class="w-4 h-4 sm:w-5 sm:h-5 text-yellow-400" />
                }
              </div>
              <div>
                <h4 class="text-yellow-400 font-semibold mb-1 text-sm">{card.title}</h4>
                <div class="text-gray-300 text-xs">
                  <span set:html={card.content} />
                  <br />
                  <span class="text-yellow-300 font-medium">{card.highlight}</span>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

    </div>
  </div>

  {/* Bottom Elements - Desktop Only */}
  <div class="absolute bottom-0 left-0 right-0 z-20 pointer-events-none">
    <div class="mx-auto w-11/12 max-w-screen-2xl relative">

      {/* Location Card - Bottom Left */}
      <div
        class="reveal absolute bottom-8 left-4 lg:left-8 bg-black/50 backdrop-blur-sm border border-yellow-500/30 rounded-lg p-4 hover:border-yellow-500/50 transition-all duration-300 max-w-xs hidden md:block pointer-events-auto"
        style="transition-delay: 0.7s"
      >
        <div class="flex items-start space-x-3">
          <div class="bg-yellow-500/20 p-2 rounded-full">
            <MapPin class="w-5 h-5 text-yellow-400" />
          </div>
          <div>
            <h4 class="text-yellow-400 font-semibold mb-1 text-sm">Our Location</h4>
            <address class="text-gray-300 not-italic text-xs">
              510 West 1st Street<br />
              Lowell, NC 28098<br />
              <span class="text-yellow-300 font-medium">(704) 879-4057</span>
            </address>
          </div>
        </div>
      </div>

      {/* Business Hours Card - Bottom Right */}
      <div
        class="reveal absolute bottom-8 right-4 lg:right-8 bg-black/50 backdrop-blur-sm border border-yellow-500/30 rounded-lg p-4 hover:border-yellow-500/50 transition-all duration-300 max-w-xs hidden md:block pointer-events-auto"
        style="transition-delay: 0.8s"
      >
        <div class="flex items-start space-x-3">
          <div class="bg-yellow-500/20 p-2 rounded-full">
            <Clock class="w-5 h-5 text-yellow-400" />
          </div>
          <div>
            <h4 class="text-yellow-400 font-semibold mb-1 text-sm">Business Hours</h4>
            <div class="text-gray-300 text-xs">
              Monday - Friday: 7AM - 3PM<br />
              <span class="text-yellow-300 font-medium">Weekends: Closed</span>
            </div>
          </div>
        </div>
      </div>

      {/* CTA Button - Desktop Center */}
      <div
        class="reveal absolute bottom-24 left-1/2 -translate-x-1/2 hidden md:block pointer-events-auto"
        style="transition-delay: 0.6s"
      >
        <button
          id="cta-desktop"
          class="bg-linear-to-r from-yellow-500 to-yellow-600 text-black px-6 py-3 rounded-lg text-base font-semibold hover:from-yellow-400 hover:to-yellow-500 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 shadow-[0_4px_15px_rgba(234,179,8,0.3)] hover:shadow-[0_8px_25px_rgba(234,179,8,0.4)]"
        >
          Request a Free Consultation
        </button>
      </div>

      {/* Scroll Indicator */}
      <div
        class="reveal absolute bottom-8 left-1/2 -translate-x-1/2 hidden md:block"
        style="transition-delay: 1s"
      >
        <div class="w-6 h-10 rounded-full border-2 border-yellow-500/50 flex items-start justify-center animate-bounce">
          <div class="w-1 h-2 bg-yellow-400/80 rounded-full mt-2" />
        </div>
      </div>

    </div>
  </div>
</section>

<script>
  import { initReveal } from "../utils/reveal";
  initReveal("#hero");

  // Scroll parallax
  const bg = document.getElementById("parallax-bg");
  window.addEventListener("scroll", () => {
    if (bg) {
      bg.style.transform = `translateY(${window.scrollY * 0.1}px)`;
    }
  }, { passive: true });

  // CTA scroll behavior
  const scrollToContact = () => {
    document.getElementById("contact")?.scrollIntoView({ behavior: "smooth" });
  };
  document.getElementById("cta-mobile")?.addEventListener("click", scrollToContact);
  document.getElementById("cta-desktop")?.addEventListener("click", scrollToContact);
</script>
